MIR_COMMON_0.25 {
 global:
  extern "C++" {
# The following symbols come from running a script over the generated docs. Vis:
# ../tools/process_doxygen_xml.py doc/xml/*.xml | grep "^mircommon public" | sed "s/mircommon public: /    /" | sort  
    mir::detail::libname_impl*;
    mir::detail::RefCountedLibrary::operator*;
    mir::detail::RefCountedLibrary::?RefCountedLibrary*;
    mir::detail::RefCountedLibrary::RefCountedLibrary*;
    mir::dispatch::ActionQueue::ActionQueue*;
    mir::dispatch::ActionQueue::dispatch*;
    mir::dispatch::ActionQueue::enqueue*;
    mir::dispatch::ActionQueue::relevant_events*;
    mir::dispatch::ActionQueue::watch_fd*;
    mir::dispatch::Dispatchable::?Dispatchable*;
    mir::dispatch::Dispatchable::Dispatchable*;
    mir::dispatch::Dispatchable::operator*;
    mir::dispatch::MultiplexingDispatchable::add_watch*;
    mir::dispatch::MultiplexingDispatchable::dispatch*;
    mir::dispatch::MultiplexingDispatchable::?MultiplexingDispatchable*;
    mir::dispatch::MultiplexingDispatchable::MultiplexingDispatchable*;
    mir::dispatch::MultiplexingDispatchable::operator*;
    mir::dispatch::MultiplexingDispatchable::relevant_events*;
    mir::dispatch::MultiplexingDispatchable::remove_watch*;
    mir::dispatch::MultiplexingDispatchable::watch_fd*;
    mir::dispatch::ReadableFd::dispatch*;
    mir::dispatch::ReadableFd::ReadableFd*;
    mir::dispatch::ReadableFd::relevant_events*;
    mir::dispatch::ReadableFd::watch_fd*;
    mir::dispatch::ThreadedDispatcher::add_thread*;
    mir::dispatch::ThreadedDispatcher::remove_thread*;
    mir::dispatch::ThreadedDispatcher::?ThreadedDispatcher*;
    mir::dispatch::ThreadedDispatcher::ThreadedDispatcher*;
    mir::Fd::Fd*;
    mir::Fd::invalid*;
    mir::Fd::operator*;
    mir::graphics::NativeBuffer::?NativeBuffer*;
    mir::graphics::NativeBuffer::NativeBuffer*;
    mir::graphics::NativeBuffer::operator*;
    mir::input::Keymap::Keymap*;
    mir::libraries_for_path*;
    mir::log*;
    mir::logging::DumbConsoleLogger::log*;
    mir::logging::log*;
    mir::logging::Logger::log*;
    mir::logging::Logger::?Logger*;
    mir::logging::Logger::Logger*;
    mir::logging::Logger::operator*;
    mir::logging::set_logger*;
    mir::logv*;
    mir::PosixRWMutex::lock*;
    mir::PosixRWMutex::lock_shared*;
    mir::PosixRWMutex::operator*;
    mir::PosixRWMutex::?PosixRWMutex*;
    mir::PosixRWMutex::PosixRWMutex*;
    mir::PosixRWMutex::try_lock*;
    mir::PosixRWMutex::try_lock_shared*;
    mir::PosixRWMutex::unlock*;
    mir::PosixRWMutex::unlock_shared*;
    mir::select_libraries_for_path*;
    mir::SharedLibrary::load_symbol*;
    mir::SharedLibraryProberReport::operator*;
    mir::SharedLibraryProberReport::?SharedLibraryProberReport*;
    mir::SharedLibraryProberReport::SharedLibraryProberReport*;
    mir::SharedLibrary::?SharedLibrary*;
    mir::SharedLibrary::SharedLibrary*;
    non-virtual?thunk?to?mir::dispatch::ActionQueue::dispatch*;
    non-virtual?thunk?to?mir::dispatch::ActionQueue::relevant_events*;
    non-virtual?thunk?to?mir::dispatch::ActionQueue::watch_fd*;
    non-virtual?thunk?to?mir::dispatch::Dispatchable::?Dispatchable*;
    non-virtual?thunk?to?mir::dispatch::MultiplexingDispatchable::dispatch*;
    non-virtual?thunk?to?mir::dispatch::MultiplexingDispatchable::?MultiplexingDispatchable*;
    non-virtual?thunk?to?mir::dispatch::MultiplexingDispatchable::relevant_events*;
    non-virtual?thunk?to?mir::dispatch::MultiplexingDispatchable::watch_fd*;
    non-virtual?thunk?to?mir::dispatch::ReadableFd::dispatch*;
    non-virtual?thunk?to?mir::dispatch::ReadableFd::relevant_events*;
    non-virtual?thunk?to?mir::dispatch::ReadableFd::watch_fd*;
    non-virtual?thunk?to?mir::graphics::NativeBuffer::?NativeBuffer*;
    non-virtual?thunk?to?mir::logging::DumbConsoleLogger::log*;
    non-virtual?thunk?to?mir::logging::Logger::log*;
    non-virtual?thunk?to?mir::logging::Logger::?Logger*;
    non-virtual?thunk?to?mir::SharedLibraryProberReport::?SharedLibraryProberReport*;
    typeinfo?for?mir::detail::RefCountedLibrary;
    typeinfo?for?mir::dispatch::ActionQueue;
    typeinfo?for?mir::dispatch::Dispatchable;
    typeinfo?for?mir::dispatch::MultiplexingDispatchable;
    typeinfo?for?mir::dispatch::ReadableFd;
    typeinfo?for?mir::dispatch::ThreadedDispatcher;
    typeinfo?for?mir::events::ContactState;
    typeinfo?for?mir::events::InputDeviceState;
    typeinfo?for?mir::Fd;
    typeinfo?for?mir::graphics::NativeBuffer;
    typeinfo?for?mir::input::Keymap;
    typeinfo?for?mir::IntOwnedFd;
    typeinfo?for?mir::logging::DumbConsoleLogger;
    typeinfo?for?mir::logging::Logger;
    typeinfo?for?mir::logging::NullSharedLibraryProberReport;
    typeinfo?for?mir::PosixRWMutex;
    typeinfo?for?mir::SharedLibrary;
    typeinfo?for?mir::SharedLibraryProberReport;
    typeinfo?for?mir::time::PosixTimestamp;
    vtable?for?mir::detail::RefCountedLibrary;
    vtable?for?mir::dispatch::ActionQueue;
    vtable?for?mir::dispatch::Dispatchable;
    vtable?for?mir::dispatch::MultiplexingDispatchable;
    vtable?for?mir::dispatch::ReadableFd;
    vtable?for?mir::dispatch::ThreadedDispatcher;
    vtable?for?mir::events::ContactState;
    vtable?for?mir::events::InputDeviceState;
    vtable?for?mir::Fd;
    vtable?for?mir::graphics::NativeBuffer;
    vtable?for?mir::input::Keymap;
    vtable?for?mir::IntOwnedFd;
    vtable?for?mir::logging::DumbConsoleLogger;
    vtable?for?mir::logging::Logger;
    vtable?for?mir::logging::NullSharedLibraryProberReport;
    vtable?for?mir::PosixRWMutex;
    vtable?for?mir::SharedLibrary;
    vtable?for?mir::SharedLibraryProberReport;
    vtable?for?mir::time::PosixTimestamp;

    # These symbols are supposed to be "private" (they're under src/include)
    # but they are used by libmirplatform, libmirclient or libmirserver
    mir::default_server_socket;
    mir::logging::input_timestamp*;
    mir::RecursiveReadLock::?RecursiveReadLock*;
    mir::RecursiveReadLock::RecursiveReadLock*;
    mir::RecursiveReadWriteMutex::read_lock*;
    mir::RecursiveReadWriteMutex::read_unlock*;
    mir::RecursiveReadWriteMutex::write_lock*;
    mir::RecursiveReadWriteMutex::write_unlock*;
    mir::report::lttng::TracepointProvider::?TracepointProvider*;
    mir::report::lttng::TracepointProvider::TracepointProvider*;
    mir::set_thread_name*;
    vtable?for?mir::time::SteadyClock;
    vtable?for?mir::time::Clock;

    mir::send_fds*;

    mir::fd_reception_error::fd_reception_error*;
    mir::receive_data*;
    mir::socket_error::socket_error*;
    mir::socket_error_is_transient*;
    mir::socket_disconnected_error*;
    typeinfo?for?mir::fd_reception_error;
    typeinfo?for?mir::socket_error;
    typeinfo?for?mir::socket_disconnected_error;

    mir::SignalBlocker::SignalBlocker*;
    mir::SignalBlocker::?SignalBlocker*;
    };
  local: *;
};

MIR_COMMON_0.25_PRIVATE {
 global:
  __android_log_print;
  systemTime;
  extern "C++" {
# New functions in Mir 0.16
      # These symbols are supposed to be "private" (they're under 3rd_party)
      # but they are used by libmirplatform, libmirclient or libmirserver
      android::InputChannel::InputChannel*;
      android::InputChannel::openInputFdPair*;
      android::InputConsumer::consume*;
      android::InputConsumer::hasDeferredEvent*;
      android::InputConsumer::hasPendingBatch*;
      android::InputConsumer::?InputConsumer*;
      android::InputConsumer::InputConsumer*;
      android::InputConsumer::sendFinishedSignal*;
      android::InputPublisher::?InputPublisher*;
      android::InputPublisher::InputPublisher*;
      android::InputPublisher::publishKeyEvent*;
      android::InputPublisher::publishMotionEvent*;
      android::InputPublisher::receiveFinishedSignal*;
      android::IntSet::contains*;
      android::IntSet::indexOf*;
      android::IntSet::?IntSet*;
      android::IntSet::IntSet*;
      android::IntSet::operator*;
      android::IntSet::remove*;
      android::KeyEvent::initialize*;
      android::MotionEvent::getAxisValue*;
      android::MotionEvent::getHistoricalAxisValue*;
      android::MotionEvent::getRawAxisValue*;
      android::PointerCoords::copyFrom*;
      android::PointerCoords::getAxisValue*;
      android::PointerCoords::operator*;
      android::PointerCoords::setAxisValue*;
      android::PointerProperties::copyFrom*;
      android::PointerProperties::operator*;
      android::RefBase::decStrong*;
      android::RefBase::incStrong*;
      android::RefBase::onFirstRef*;
      android::RefBase::onIncStrongAttempted*;
      android::RefBase::onLastStrongRef*;
      android::RefBase::onLastWeakRef*;
      android::RefBase::?RefBase*;
      android::RefBase::RefBase*;
      mir::write_to_log;
      typeinfo?for?android::RefBase;
      vtable?for?android::IntSet;

# New functions in Mir 0.19.0
      # These symbols are supposed to be "private" (they're under src/include)
      # but they are used by libmirplatform, libmirclient or libmirserver
      typeinfo?for?mir::time::SteadyClock;
      typeinfo?for?android::InputChannel;
      mir::detail::libname_impl*;

# New functions in Mir 0.22
      # These symbols are supposed to be "private" (they're under src/include)
      # but they are used by libmirplatform, libmirclient or libmirserver
       MirEvent::to_surface*;
       MirEvent::to_resize*;
       MirEvent::to_orientation*;
       MirEvent::to_close_surface*;
       MirEvent::to_keymap*;
       MirEvent::to_input*;
       MirEvent::to_prompt_session*;
       MirEvent::serialize*;
       MirEvent::deserialize*;
       MirEvent::clone*;
       MirEvent::type*;
       MirCloseSurfaceEvent::MirCloseSurfaceEvent*;
       MirCloseSurfaceEvent::surface_id*;
       MirCloseSurfaceEvent::set_surface_id*;
       MirSurfaceOutputEvent::MirSurfaceOutputEvent*;
       MirSurfaceOutputEvent::surface_id*;
       MirSurfaceOutputEvent::set_surface_id*;
       MirSurfaceOutputEvent::dpi*;
       MirSurfaceOutputEvent::set_dpi*;
       MirSurfaceOutputEvent::scale*;
       MirSurfaceOutputEvent::set_scale*;
       MirSurfaceOutputEvent::form_factor*;
       MirSurfaceOutputEvent::set_form_factor*;
       MirSurfaceOutputEvent::output_id*;
       MirSurfaceOutputEvent::set_output_id*;
       MirResizeEvent::MirResizeEvent*;
       MirResizeEvent::surface_id*;
       MirResizeEvent::set_surface_id*;
       MirResizeEvent::width*;
       MirResizeEvent::set_width*;
       MirResizeEvent::height*;
       MirResizeEvent::set_height*;
       MirSurfaceEvent::MirSurfaceEvent*;
       MirSurfaceEvent::id*;
       MirSurfaceEvent::set_id*;
       MirSurfaceEvent::attrib*;
       MirSurfaceEvent::set_attrib*;
       MirSurfaceEvent::value*;
       MirSurfaceEvent::set_value*;
       MirInputConfigurationEvent::MirInputConfigurationEvent*;
       MirInputConfigurationEvent::action*;
       MirInputConfigurationEvent::set_action*;
       MirInputConfigurationEvent::when*;
       MirInputConfigurationEvent::set_when*;
       MirInputConfigurationEvent::id*;
       MirInputConfigurationEvent::set_id*;
       MirInputEvent::to_keyboard*;
       MirInputEvent::to_motion*;
       MirKeyboardEvent::MirKeyboardEvent*;
       MirKeyboardEvent::device_id*;
       MirKeyboardEvent::set_device_id*;
       MirKeyboardEvent::source_id*;
       MirKeyboardEvent::set_source_id*;
       MirKeyboardEvent::action*;
       MirKeyboardEvent::set_action*;
       MirKeyboardEvent::modifiers*;
       MirKeyboardEvent::set_modifiers*;
       MirKeyboardEvent::key_code*;
       MirKeyboardEvent::set_key_code*;
       MirKeyboardEvent::scan_code*;
       MirKeyboardEvent::set_scan_code*;
       MirKeyboardEvent::event_time*;
       MirKeyboardEvent::set_event_time*;
       MirKeyboardEvent::cookie*;
       MirKeyboardEvent::set_cookie*;
       MirKeymapEvent::MirKeymapEvent*;
       MirKeymapEvent::surface_id*;
       MirKeymapEvent::set_surface_id*;
       MirKeymapEvent::device_id*;
       MirKeymapEvent::set_device_id*;
       MirKeymapEvent::buffer*;
       MirKeymapEvent::set_buffer*;
       MirKeymapEvent::free_buffer*;
       MirKeymapEvent::size*;
       MirKeymapEvent::set_size*;
       MirMotionEvent::MirMotionEvent*;
       MirMotionEvent::device_id*;
       MirMotionEvent::set_device_id*;
       MirMotionEvent::source_id*;
       MirMotionEvent::set_source_id*;
       MirMotionEvent::modifiers*;
       MirMotionEvent::set_modifiers*;
       MirMotionEvent::buttons*;
       MirMotionEvent::set_buttons*;
       MirMotionEvent::event_time*;
       MirMotionEvent::set_event_time*;
       MirMotionEvent::cookie*;
       MirMotionEvent::set_cookie*;
       MirMotionEvent::pointer_count*;
       MirMotionEvent::set_pointer_count*;
       MirMotionEvent::pointer_coordinates*;
       MirMotionEvent::to_touch*;
       MirMotionEvent::to_pointer*;
       MirMotionEvent::id*;
       MirMotionEvent::set_id*;
       MirMotionEvent::x*;
       MirMotionEvent::set_x*;
       MirMotionEvent::y*;
       MirMotionEvent::set_y*;
       MirMotionEvent::dx*;
       MirMotionEvent::set_dx*;
       MirMotionEvent::dy*;
       MirMotionEvent::set_dy*;
       MirMotionEvent::touch_major*;
       MirMotionEvent::set_touch_major*;
       MirMotionEvent::touch_minor*;
       MirMotionEvent::set_touch_minor*;
       MirMotionEvent::size*;
       MirMotionEvent::set_size*;
       MirMotionEvent::pressure*;
       MirMotionEvent::set_pressure*;
       MirMotionEvent::orientation*;
       MirMotionEvent::set_orientation*;
       MirMotionEvent::vscroll*;
       MirMotionEvent::set_vscroll*;
       MirMotionEvent::hscroll*;
       MirMotionEvent::set_hscroll*;
       MirMotionEvent::tool_type*;
       MirMotionEvent::set_tool_type*;
       MirMotionEvent::action*;
       MirMotionEvent::set_action*;
       MirOrientationEvent::MirOrientationEvent*;
       MirOrientationEvent::surface_id*;
       MirOrientationEvent::set_surface_id*;
       MirOrientationEvent::direction*;
       MirOrientationEvent::set_direction*;
       MirPromptSessionEvent::MirPromptSessionEvent*;
       MirPromptSessionEvent::new_state*;
       MirPromptSessionEvent::set_new_state*;

# New functions in Mir 0.24
      # These symbols are supposed to be "private" (they're under src/include)
      # but they are used by libmirplatform, libmirclient or libmirserver
       android::InputPublisher::publishEventBuffer*;
       MirEvent::to_input_device_state*;
       MirInputDeviceStateEvent::MirInputDeviceStateEvent*;
       MirInputDeviceStateEvent::device_count*;
       MirInputDeviceStateEvent::device_id*;
       MirInputDeviceStateEvent::device_pointer_buttons*;
       MirInputDeviceStateEvent::device_pressed_keys_count*;
       MirInputDeviceStateEvent::modifiers*;
       MirInputDeviceStateEvent::pointer_axis*;
       MirInputDeviceStateEvent::pointer_buttons*;
       MirInputDeviceStateEvent::set_modifiers*;
       MirInputDeviceStateEvent::set_pointer_axis*;
       MirInputDeviceStateEvent::set_pointer_buttons*;
       MirInputDeviceStateEvent::set_when*;
       MirInputDeviceStateEvent::when*;
       mir::time::SteadyClock::now*;
       mir::time::SteadyClock::min_wait_until*;
       android::MotionEvent::initialize*;
       mir::dispatch::epoll_to_fd_event*;
       mir::dispatch::fd_event_to_epoll*;

# New functions in Mir 0.25
      # These symbols are supposed to be "private" (they're under src/include)
      # but they are used by libmirplatform, libmirclient or libmirserver
      MirSurfacePlacementEvent::MirSurfacePlacementEvent*;
      MirSurfacePlacementEvent::id*;
      MirSurfacePlacementEvent::set_id*;
      MirSurfacePlacementEvent::placement*;
      MirSurfacePlacementEvent::set_placement*;
      MirInputDeviceStateEvent::device_pressed_keys_for_index*;
      MirInputDeviceStateEvent::set_device_states*;
      MirEvent::MirEvent*;
      MirEvent::operator*;
      MirInputEvent::operator*;
      mir::output_type_name*;
      MirSurfaceOutputEvent::refresh_rate*;
      MirSurfaceOutputEvent::set_refresh_rate*;
      mir::output_type_name*;
    };
} MIR_COMMON_0.25;
