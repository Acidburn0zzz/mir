option cc_generic_services = true;

package mir.protobuf;

message ConnectMessage {
  optional int32 width = 1;
  optional int32 height = 2;
  optional int32 pixel_format = 3;
}

message SurfaceParameters {
  optional int32 width = 1;
  optional int32 height = 2;
  optional int32 pixel_format = 3;
}

message Surface {
  required int32 width = 1;
  required int32 height = 2;
  required int32 pixel_format = 3;
  optional int32 native_buffer = 4;
}

message Void {
}

service DisplayServer {
  rpc connect(ConnectMessage) returns (Surface);
  rpc disconnect(Void) returns (Void);
  rpc create_surface(SurfaceParameters) returns (Surface);
  rpc release_surface(Void) returns (Void);
}

